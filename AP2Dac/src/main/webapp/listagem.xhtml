<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core">
	<h:head><title>Listagem</title></h:head>
	<h:body>
		<p:link outcome="index" value="voltar"/>
		<h:form>
			<p:messages id="messages" showDetail="true" closable="true">
	           	<p:autoUpdate/>
	       	</p:messages>
		   	<p:dataTable value="#{jogoBean.listaJogo}" var="jogo" id="lista">
		   		<p:column headerText="Valores">
		   			<p:outputLabel value="#{jogo.v1}"/>,
		   			<p:outputLabel value="#{jogo.v2}"/>,
		   			<p:outputLabel value="#{jogo.v3}"/>,
		   			<p:outputLabel value="#{jogo.v4}"/>,
		   			<p:outputLabel value="#{jogo.v5}"/>
		   		</p:column>
		   		
		   		<p:column headerText="Data"><p:outputLabel value="#{jogo.dataCadastro}"/></p:column>
		   		<p:column headerText="Editar">
		   			<p:commandButton action="#{jogoBean.redirectEdit}" value="Editar"  >
						<f:setPropertyActionListener target="#{jogoBean.jogo}" value="#{jogo}" />
		   			</p:commandButton>
	   			</p:column>
		   		<p:column headerText="Excluir">
		   			<p:commandButton action="#{jogoBean.excluir}" value="Excluir" styleClass="ui-button-danger" update="lista" >
		   				<f:setPropertyActionListener target="#{jogoBean.jogo}" value="#{jogo}" />
		   			</p:commandButton>
	   			</p:column>
	   			<p:column headerText="Maior">
		   			<p:commandButton value="Maior" styleClass="ui-button-warning" update="content" oncomplete="PF('dlg1').show();" >
		   				<f:setPropertyActionListener target="#{jogoBean.jogo}" value="#{jogo}" />
		   			</p:commandButton>
	   			</p:column>
		   	</p:dataTable>
	   	</h:form>
	   	<p:dialog header="Maior valor" widgetVar="dlg1" minHeight="40" modal="true">
   			<h:outputText id="content" value="#{jogoBean.maiorValor}" />
		</p:dialog>
   	</h:body>
</html>
